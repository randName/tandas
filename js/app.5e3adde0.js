(function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],d=0,v=[];d<i.length;d++)o=i[d],a[o]&&v.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(v.length)v.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);var r=n("2b0e"),a=n("bb71");n("da64");r["a"].use(a["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:t.dark}},[n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline"},[n("span",[t._v("Tandas")])]),n("v-spacer"),n("v-chip",[n("v-avatar",[n("v-icon",{attrs:{color:t.status.color},domProps:{textContent:t._s(t.status.icon)}})],1),t._v("\n      "+t._s(t.status.text)+"\n    ")],1)],1),n("v-content",[n("v-container",{attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Quick Actions")]),n("v-card-actions",[n("v-btn",{attrs:{fab:"",small:""},on:{click:function(e){t.dark=!t.dark}}},[n("v-icon",[t._v("brightness_4")])],1),n("v-spacer"),n("v-btn",{attrs:{disabled:""}},[t._v("Queue "),n("v-icon",{attrs:{right:""}},[t._v("layers")])],1),n("v-btn",{attrs:{color:"primary",disabled:t.goDisable},on:{click:t.use}},[t._v("\n                "+t._s(t.useText)+"\n                "),n("v-icon",{attrs:{right:""}},[t._v("directions_run")])],1)],1)],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-expansion-panel",[n("v-expansion-panel-content",[n("div",{staticClass:"headline",attrs:{slot:"header"},slot:"header"},[t._v("Recent")]),n("v-list",[t._l(t.recent,function(e,r){return[n("v-list-tile",{key:e.ts},[n("v-chip",[n("v-avatar",[n("v-icon",[t._v("schedule")])],1),t._v("\n                    "+t._s(t.showTime(e.start))+"\n                  ")],1),e.duration?n("v-chip",[n("v-avatar",[n("v-icon",[t._v("timer")])],1),t._v("\n                    "+t._s(e.duration)+" min\n                  ")],1):t._e(),n("v-list-tile-content"),n("v-list-tile-action",[e.duration?n("v-btn",{attrs:{icon:"",disabled:""}},[n("v-icon",[t._v("done")])],1):n("v-progress-circular",{attrs:{indeterminate:"",size:"24"}})],1)],1),r<t.recent.length-1?n("v-divider",{key:r}):t._e()]})],2)],1)],1)],1)],1)],1)],1)],1)},o=[],i=n("59ca"),c=n.n(i);n("e71f");const u="lpa-sg",l={projectId:u,storageBucket:`${u}.appspot.com`,authDomain:`${u}.firebaseapp.com`,apiKey:"AIzaSyCIGQm_zITYXFm6BFHQuxikndRmHoewQNo",databaseURL:`https://${u}.firebaseio.com`,messagingSenderId:"224727383490"},d=new Date;d.setHours(d.getHours()-6),d.setMinutes(0),d.setSeconds(0),c.a.initializeApp(l);const v=c.a.firestore();v.settings({timestampsInSnapshots:!0});const p=v.collection("door"),f=p.where("ts",">",d).orderBy("ts");var h=function(){return{door:p,activity:f}},b={data(){return{dark:!0,activity:[],requested:!1}},firestore:h,computed:{useText(){return this.requested?"End":"Go"},goDisable(){return this.status.used&&!this.requested},recent(){const t=null;return this.activity.map(t=>({...t,ts:t.ts.seconds})).reduce((e,n)=>{return e[0].start?n.oc||(e[0].end=n.ts,e[0].duration=Math.round((n.ts-e[0].start)/6,1)/10,e.unshift({duration:t})):n.oc&&(e[0].start=n.ts),e},[{duration:t}]).filter(t=>t.start).slice(0,5)},status(){const t=this.recent[0],e=t?!t.end:null,n=e?"error":"success",r=t?(e?"remove":"check")+"_circle":"sync",a=t?"Since "+this.showTime(t.end||t.start):"Getting status ...";return{used:e,text:a,icon:r,color:n}}},methods:{use(){this.$firestoreRefs.door.add({ts:new Date,oc:!this.status.used}).then(()=>{this.requested=!this.requested})},showTime(t){const e=new Date(1e3*t),n=["Hours","Minutes"].map(t=>e["get"+t]());return n.map(t=>(t>9?"":"0")+t).join(":")}}},_=b,m=n("2877"),g=n("6544"),y=n.n(g),V=n("7496"),x=n("8212"),w=n("8336"),T=n("b0af"),k=n("99d9"),C=n("12b2"),j=n("cc20"),S=n("a523"),O=n("549c"),P=n("ce7e"),A=n("cd55"),D=n("49e2"),I=n("0e8f"),M=n("132d"),L=n("a722"),$=n("8860"),q=n("ba95"),H=n("40fe"),Q=n("5d23"),z=n("490a"),B=n("9910"),E=n("71d9"),R=n("2a7f"),F=Object(m["a"])(_,s,o,!1,null,null,null);F.options.__file="App.vue";var G=F.exports;y()(F,{VApp:V["a"],VAvatar:x["a"],VBtn:w["a"],VCard:T["a"],VCardActions:k["a"],VCardTitle:C["a"],VChip:j["a"],VContainer:S["a"],VContent:O["a"],VDivider:P["a"],VExpansionPanel:A["a"],VExpansionPanelContent:D["a"],VFlex:I["a"],VIcon:M["a"],VLayout:L["a"],VList:$["a"],VListTile:q["a"],VListTileAction:H["a"],VListTileContent:Q["a"],VProgressCircular:z["a"],VSpacer:B["a"],VToolbar:E["a"],VToolbarTitle:R["a"]});var J=n("0ff2");r["a"].config.productionTip=!1,r["a"].use(J["a"]),new r["a"]({render:t=>t(G)}).$mount("#app")}});